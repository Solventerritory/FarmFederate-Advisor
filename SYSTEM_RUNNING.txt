â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘        FARMFEDERATE SYSTEM - COMPLETE & RUNNING           â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… ALL SYSTEMS OPERATIONAL

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RUNNING SERVICES                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

âœ“ Backend Server (FastAPI)
  â””â”€ http://localhost:8000
  â””â”€ API Docs: http://localhost:8000/docs
  â””â”€ Sensor API: http://localhost:8000/sensors/latest
  â””â”€ Status: Starting (allow 30 seconds for model to load)

âœ“ MQTT Broker (Mosquitto)
  â””â”€ Port: 1883
  â””â”€ Status: RUNNING

âœ“ MQTT Listener (Python)
  â””â”€ Topic: farmfederate/sensors/#
  â””â”€ Saves to: backend/checkpoints_paper/sensors/
  â””â”€ Status: ACTIVE

âœ“ Frontend (Flutter on Chrome)
  â””â”€ http://localhost:3000
  â””â”€ Dashboard: http://localhost:3000/#/dashboard
  â””â”€ Status: Starting

âœ“ Test Sensor Data
  â””â”€ 4 devices publishing
  â””â”€ esp32_field_01, esp32_field_02, esp32_field_03
  â””â”€ esp32_greenhouse_01

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ESP32 HARDWARE SETUP                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Your Computer's IP: 192.168.0.195

STEP-BY-STEP:

1. Open Arduino IDE

2. Open File:
   backend/hardware/esp32_sensor_node/esp32_complete_sensors.ino

3. Edit These Lines:
   Line 24: const char* WIFI_SSID = "YOUR_WIFI_NAME";
   Line 25: const char* WIFI_PASSWORD = "YOUR_WIFI_PASSWORD";
   Line 29: const char* MQTT_SERVER = "192.168.0.195";

4. Hardware Connections:
   DHT22 Sensor:
     VCC  â†’ ESP32 3.3V
     DATA â†’ ESP32 GPIO 4
     GND  â†’ ESP32 GND

   Water Flow Meter:
     VCC    â†’ ESP32 5V
     SIGNAL â†’ ESP32 GPIO 18
     GND    â†’ ESP32 GND

   Relay Module:
     VCC â†’ ESP32 5V
     IN  â†’ ESP32 GPIO 5
     GND â†’ ESP32 GND

   Solenoid Valve:
     Connect to Relay NO/NC terminals
     Needs 12V/24V external power

   Soil Moisture (optional):
     AOUT â†’ ESP32 GPIO 34
     VCC  â†’ ESP32 3.3V
     GND  â†’ ESP32 GND

5. Upload to ESP32:
   - Tools â†’ Board â†’ ESP32 Dev Module
   - Tools â†’ Port â†’ (your COM port)
   - Click Upload button

6. Open Serial Monitor:
   - Set to 115200 baud
   - Watch for connection messages

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MONITOR & VERIFY                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Monitor MQTT Messages:
  mosquitto_sub -h localhost -t "farmfederate/sensors/#" -v

Check Sensor API:
  curl http://localhost:8000/sensors/latest

View Sensor Files:
  Get-ChildItem backend\checkpoints_paper -Recurse -Filter "*.json"

Test Relay Control:
  cd backend\hardware\backend_integration
  python publish_cmd.py

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TROUBLESHOOTING                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

If Frontend Shows No Data:
  1. Wait 30 seconds for backend to fully start
  2. Refresh browser (Ctrl+R)
  3. Check: http://localhost:8000/sensors/latest
  4. Open browser console (F12) for errors

If ESP32 Not Connecting:
  1. Check Serial Monitor for error messages
  2. Verify WiFi credentials
  3. Verify IP address: 192.168.0.195
  4. Run diagnostic: python backend\diagnose_esp32.py
  5. Add firewall rule (as admin):
     New-NetFirewallRule -DisplayName "MQTT" -Direction Inbound -Protocol TCP -LocalPort 1883 -Action Allow

If Backend Not Starting:
  1. Check backend PowerShell window for errors
  2. Ensure model checkpoint exists
  3. Virtual environment activated

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DOCUMENTATION FILES                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ğŸ“„ ESP32_TROUBLESHOOTING.md - Complete hardware guide
ğŸ“„ esp32_complete_sensors.ino - Ready-to-upload firmware
ğŸ“„ RUNNING_SETUP.md - System architecture
ğŸ“„ diagnose_esp32.py - Diagnostic tool

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ QUICK COMMANDS                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Send More Test Data:
  cd backend
  python send_real_sensor_data.py

Check System Status:
  python diagnose_esp32.py

View Latest Sensor Reading:
  Get-Content (Get-ChildItem checkpoints_paper -Recurse -Filter "*.json" | Sort-Object LastWriteTime -Descending | Select-Object -First 1).FullName

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ WHAT'S RUNNING NOW                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

3 PowerShell Windows:
  [1] Backend Server - FastAPI with ML model
  [2] MQTT Listener - Capturing sensor data
  [3] Frontend - Flutter web application

1 Chrome Browser:
  â†’ http://localhost:3000 (dashboard loading)

Background Services:
  â†’ Mosquitto MQTT Broker (Windows Service)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    SYSTEM READY! ğŸš€                       â•‘
â•‘                                                            â•‘
â•‘  Frontend: http://localhost:3000                          â•‘
â•‘  Backend:  http://localhost:8000/docs                     â•‘
â•‘                                                            â•‘
â•‘  â° Wait 30 seconds, then refresh browser                 â•‘
â•‘  ğŸ“± Upload ESP32 code to start receiving real sensor data â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
